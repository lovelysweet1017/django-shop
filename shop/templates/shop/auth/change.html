{% extends "shop/auth/authenticated-base.html" %}
{% load i18n %}

{% block form_title %}{% trans "Change Password" %}{% endblock %}
{% block form_attrs %}{{ block.super }} djng-endpoint="{% url 'shop:password-change' %}"{% endblock %}

{% block form_content %}
	{{ block.super }}

	<div class="form-group has-feedback" style="margin-bottom: 25px;">
		<label class="control-label">{% trans "New Password" %}</label>
		<div class="input-group">
			<span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span>
			<input type="password" class="form-control" name="new_password1" ng-model="form_data.new_password1" placeholder="New Password" required>
		</div>
		<ul ng-show="change_form.new_password1.$error.rejected && change_form.new_password1.$pristine" class="shop-form-error" ng-cloak>
			<li ng-bind="change_form.new_password1.$message"></li>
		</ul>
	</div>

	<div class="form-group has-feedback" style="margin-bottom: 25px;">
		<label class="control-label">{% trans "Confirm Password" %}</label>
		<div class="input-group">
			<span class="input-group-addon"><i class="fa fa-key fa-fw"></i></span>
			<input type="password" class="form-control" name="new_password2" ng-model="form_data.new_password2" placeholder="Confirm Password" required>
		</div>
		<ul ng-show="change_form.new_password2.$error.rejected && change_form.new_password2.$pristine" class="shop-form-error" ng-cloak>
			<li ng-bind="change_form.new_password2.$message"></li>
		</ul>
	</div>

	<div class="form-group">
		<button type="button" ng-disabled="{{ form_name }}.$invalid" ng-click="do(update()).then(delay(2500)).then(redirectTo('{{ redirect_to }}'))" class="btn btn-primary">{% trans "Change Password" %}</button>
	</div>
{% endblock form_content %}
