{% load i18n static sekizai_tags %}

{% addtoblock "js" %}<script src="{% static 'djng/js/django-angular.min.js' %}" type="text/javascript"></script>{% endaddtoblock %}
{% add_data "ng-requires" "djng" %}

{% if customer.is_anonymous %}
<div class="panel panel-info">
	<div class="panel-heading">
		<div class="panel-title">{% block form_title %}Panel Title{% endblock %}</div>
	</div>

	<div class="panel-body">
		<form {% block form_attrs %}name="{{ form_name }}" {% endblock %} role="form">
	{% block form_content %}
			<div class="alert alert-success" ng-show="successMessageVisible()" ng-cloak>
				<a class="close" ng-click="dismissSubmitMessage()">×</a>
				<p ng-bind="getSubmitMessage()"></p>
			</div>

			<div class="alert alert-danger" ng-show="rejectMessageVisible()" ng-cloak>
				<a class="close" ng-click="dismissSubmitMessage()">×</a>
				<p ng-bind="getSubmitMessage()"></p>
			</div>
	{% endblock form_content %}
		</form>
	{% block form_below %}{% endblock %}
	</div>
</div>
{% else %}
<div class="bg-warning">{% trans "This page shall only be reachable by anonymous users" %}</div>
{% endif %}
